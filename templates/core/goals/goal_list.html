{% extends "base.html" %}
{% block title %}ëª©í‘œ ê´€ë¦¬ - FO.AI{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto mt-10">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold">ğŸ¯ ë‚˜ì˜ ëª©í‘œ ê´€ë¦¬</h1>
    <a href="{% url 'goal_create' %}" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">
      + ìƒˆ ëª©í‘œ ì¶”ê°€
    </a>
  </div>

  {% if goals %}
  <div class="grid grid-cols-1 gap-4">
    {% for goal in goals %}
    <div class="bg-white border rounded-xl shadow-sm p-6 hover:shadow-md transition">
      <div class="flex justify-between items-center mb-2">
        <h2 class="text-lg font-semibold text-slate-800">{{ goal.title }}</h2>
        <div class="flex gap-2 text-sm">
          <a href="{% url 'goal_edit' goal.id %}" class="text-blue-600 hover:underline">ìˆ˜ì •</a>
          <a href="{% url 'goal_delete' goal.id %}" class="text-red-600 hover:underline">ì‚­ì œ</a>
        </div>
      </div>

      <p class="text-slate-600 mb-3">{{ goal.description|default:"(ì„¤ëª… ì—†ìŒ)" }}</p>

      <div class="flex justify-between items-center text-sm text-slate-500">
        <span>ğŸ“… ìƒì„±ì¼: {{ goal.created_at|date:"Y-m-d" }}</span>
        {% if goal.completed %}
          <span class="text-emerald-600 font-medium">âœ… ì™„ë£Œë¨</span>
        {% else %}
          <a href="{% url 'goal_complete' goal.id %}" class="text-blue-600 hover:underline">ì™„ë£Œë¡œ í‘œì‹œ</a>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>

  {% else %}
  <div class="bg-white border rounded-xl p-6 text-center text-slate-600">
    ë“±ë¡ëœ ëª©í‘œê°€ ì—†ìŠµë‹ˆë‹¤.<br>
    <a href="{% url 'goal_create' %}" class="text-blue-600 hover:underline">ìƒˆ ëª©í‘œë¥¼ ì¶”ê°€í•˜ì„¸ìš”.</a>
  </div>
  {% endif %}
</div>
{% endblock %}
